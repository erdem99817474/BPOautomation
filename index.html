<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="A minimal, black UI function gallery with code and preview." />
  <title>Function Gallery</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Crect width='100' height='100' rx='20' fill='%230a84ff'/%3E%3Ctext x='50' y='60' font-size='60' text-anchor='middle' fill='white' font-family='-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial'%3EF%3C/text%3E%3C/svg%3E" />
  <link rel="stylesheet" href="styles.css" />
  <script defer src="script.js"></script>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="brand">Function Gallery</div>
      <nav class="nav">
        <button id="newItemButton" class="button small" aria-controls="editorPanel" aria-expanded="false">+ New</button>
      </nav>
    </div>
  </header>

  <main id="main" class="container">
    <section id="editorPanel" class="panel">
      <h2 id="editorTitle">Add Function</h2>
      <form id="editorForm" class="form" novalidate>
        <input type="hidden" id="itemId" />
        <div class="field">
          <label for="itemName">Name</label>
          <input id="itemName" name="name" type="text" required placeholder="e.g., Counter Button" />
        </div>
        <div class="field">
          <label for="itemDesc">Description</label>
          <input id="itemDesc" name="description" type="text" required placeholder="Short description" />
        </div>
        <div class="field">
          <label for="itemCode">Code (HTML/CSS/JS)</label>
          <textarea id="itemCode" name="code" rows="10" required placeholder="Paste a runnable snippet (HTML/CSS/JS). For example: \n\n<button id='btn'>Click</button>\n<script>document.getElementById('btn').onclick=()=>alert('Hi')</script>"></textarea>
        </div>
        <div class="form-actions">
          <button type="submit" class="button">Save</button>
          <button type="button" id="cancelEdit" class="button secondary">Cancel</button>
        </div>
        <p id="editorStatus" class="form-status" role="status" aria-live="polite"></p>
      </form>
    </section>

    <section class="list-section">
      <h2>Functions</h2>
      <div id="itemsEmpty" class="empty">No functions yet. Add one to get started.</div>
      <ul id="itemsList" class="items"></ul>
    </section>
  </main>

  <template id="itemTemplate">
    <li class="item" data-id="">
      <div class="item-row">
        <div class="item-meta">
          <h3 class="item-name"></h3>
          <p class="item-desc"></p>
        </div>
        <div class="item-actions">
          <button class="button small hollow item-code-btn">Code</button>
          <button class="button small hollow item-preview-btn">Preview</button>
          <button class="icon-button item-edit-btn" title="Edit" aria-label="Edit">âœŽ</button>
          <button class="icon-button item-delete-btn" title="Delete" aria-label="Delete">ðŸ—‘</button>
        </div>
      </div>
      <div class="item-panels">
        <div class="code-panel is-hidden">
          <div class="code-toolbar">
            <button class="button xsmall copy-btn">Copy</button>
          </div>
          <pre class="code-block"><code></code></pre>
        </div>
        <div class="preview-panel is-hidden">
          <iframe class="preview-frame" title="Preview" loading="lazy" sandbox="allow-scripts allow-same-origin"></iframe>
        </div>
      </div>
    </li>
  </template>

  <footer class="site-footer">
    <div class="container">
      <p>Â© <span id="year"></span> Function Gallery</p>
    </div>
  </footer>
</body>
</html>